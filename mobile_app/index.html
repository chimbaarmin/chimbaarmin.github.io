<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Mobile App Demo v0.1</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
	<link rel="stylesheet" href="mobile_app.css" />
	<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
	<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
	<script src="../plugins/jquery.cookie.js"></script>
</head>
<body>

	<!-- Start of the first page -->
	<div data-role="page" id="home_page" data-next="search_page" data-prev="options_page" class="custom_page_background">
		
		<div class="mnp_header">
			<div class="mnp_header_button_div">
				<a href="#options_page" class="mnp_header_button" data-transition="flip" data-direction="reverse"><span class="fa fa-gear"></span> Options</a>
			</div>
			<div class="mnp_header_h1_div">
				<h1 class="mnp_header_h1">Home</h1>
			</div>	
			<div class="clear"></div>
		</div>
				
		<div role="main" class="ui-content">
			<div class="mnp_logo">
				<img src="../images/ni_logo_small_only.png" alt="Number-Index.com Logo" class="mnp_logo_img">
			</div>
			
			<p>Welcome to number-index.com, reverse lookup system for phone numbers in the North American Numbering Plan (NANP).</p>
				<div class="mnp_main_adspace">
					<img src="../images/fakeads/half_banner.png" alt="">
				</div>
			<p>Please select one of the options:</p>
			
			<div class="mnp_button_area">
				<a href="#search_page" data-transition="flip" class="mnp_button_area_button">Search</a>
				<a href="#search_history_page" data-transition="flip" class="mnp_button_area_button">Search History</a>
				<a href="#cookie_dialog" data-transition="flip" class="mnp_button_area_button">Our cookie policy</a>
			</div>	
			
		</div><!-- /content -->
		
		<div class="mnp_footer">	
			<p class="mnp_footer_p">Copyright &copy; 2015.</p>
		</div>
		
		
	</div>
	<!-- End of the first page -->
	
	<!-- Start of the second page -->
	<div data-role="page" id="search_page" data-next="search_history_page" data-prev="home_page" class="custom_page_background">
		
		<div role="main" class="ui-content">
		
			<div class="mnp_logo">
				<img src="../images/ni_logo_small_only.png" alt="Number-Index.com Logo" class="mnp_logo_img">
			</div>	
			
			<div data-role="none" class="mnp_search_box">
				<form data-role="none" action="/" method="get" class="mnp_search_box_form">
            		<input data-role="none" name="s" type="text" value="" placeholder="Lookup number" class="mnp_search_box_input"><button data-role="none" class="mnp_search_box_button">Search</button>
            	</form>
			</div>	
				
			<div class="mnp_button_area">
				<a href="#search_history_page" data-transition="flip" class="mnp_button_area_button">Search History</a>
				<a href="#home_page" data-transition="flip" data-direction="reverse" class="mnp_button_area_button">Home page</a>
			</div>
			
		</div><!-- /content -->
		
		<div class="mnp_footer">	
			<p class="mnp_footer_p">Copyright &copy; 2015.</p>
		</div>
		
	</div>
	<!-- End of the second page -->
	
	<!-- Start of the third page -->
	<div data-role="page" id="search_history_page" data-next="none" data-prev="search_page" class="custom_page_background">
	
		<div role="main" class="ui-content">
		
			<div class="mnp_logo">
				<img src="../images/ni_logo_small_only.png" alt="Number-Index.com Logo" class="mnp_logo_img">
			</div>
			
			<p>Search history page.</p>
			
			<div class="search_history">
				<ul class="search_history">
					<li class="firstcookie"></li>
					<li class="secondcookie"></li>
					<li class="thirdcookie"></li>
					<li class="fourthcookie"></li>
					<li class="fifthcookie"></li>
				</ul>
			</div>
			
			<div class="mnp_button_area">
				<a href="#search_page" data-transition="flip" data-direction="reverse" class="mnp_button_area_button">Search</a>
				<a href="#home_page" data-transition="flip" data-direction="reverse" class="mnp_button_area_button">Home page</a>
			</div>
			
		</div><!-- /content -->
		
		<div class="mnp_footer">	
			<p class="mnp_footer_p">Copyright &copy; 2015.</p>
		</div>
		
	</div>
	<!-- End of the third page -->
	
	<!-- Options page -->
	<div data-role="page" id="options_page" data-next="home_page" data-prev="none" class="custom_page_background">
	
		<div class="mnp_header">
			<div class="mnp_header_h1_div">
				<h1 class="mnp_header_h1">Options</h1>
			</div>	
			<div class="clear"></div>
		</div>
		
		<div role="main" class="ui-content">
			
			<div class="mnp_options_page_logo">
				<span class="fa fa-gear fa-4x mnp_options_page_logo_span"></span>
			</div>
		
			<div class="mnp_options_page_buttons_div">
				<a href="#" class="mnp_options_page_button deleteCookies" >Delete Cookies</a>
				<a href="#search_history_page" class="mnp_options_page_button display_history" data-transition="flip">Search History</a>
				<a href="#" class="mnp_options_page_button">Switch Theme</a>
				<div class="mnp_options_page_adspace">
					<img src="../images/fakeads/half_banner.png" alt="" class="mnp_options_page_adspace_img">
				</div>
				<a href="#home_page" class="mnp_options_page_button" data-transition="flip">Home page</a>
			</div>
						
		</div><!-- /content -->
		
		<div class="mnp_footer">	
			<p class="mnp_footer_p">Copyright &copy; 2015.</p>
		</div>
		
	</div>
	<!-- End options page -->
	
	<!-- Cookie dialog -->
	<div data-role="page" id="cookie_dialog" data-next="none" data-prev="none" class="custom_page_background">
	
		<div class="mnp_header">
			<div class="mnp_header_h1_div">
				<h1 class="mnp_header_h1">Our cookie policy</h1>
			</div>	
			<div class="clear"></div>
		</div>
		
		<div role="main" class="ui-content">
		
			<h2>This website uses cookies.</h2>
			
			<p>By continuing to browse this site you agree with our cookie policy.<br>
			<br>
			You can delete stored cookies anytime by clicking Options > Delete Cookies.
			</p>
			
			<div class="mnp_cookie_dialog_button_div">
				<a href="about:clear" data-transition="flip" class="mnp_cookie_dialog_button">Cancel</a>
				<a href="#home_page" data-transition="flip" data-direction="reverse" class="mnp_cookie_dialog_button">OK</a>
			</div>
			
		</div><!-- /content -->
		
		<div class="mnp_footer">	
			<p class="mnp_footer_p">Copyright &copy; 2015.</p>
		</div>
		
	</div>
	<!-- End cookie dialog -->
	
	<!-- Swipe navigation -->
	<script>
		
		jQuery( document ).on( "swiperight", ".ui-page", rightHandler );
				
		function rightHandler( event ){
			var prev = jQuery( ".ui-page-active" ).jqmData( "prev" );
			if ( prev && ( event.target === $( this )[ 0 ] ) ) {
				jQuery( "body" ).pagecontainer( "change", "#" + prev, { transition: "flip", reverse: true } );
			}
		}
		
		jQuery( document ).on( "swipeleft", ".ui-page", leftHandler );
		
		function leftHandler( event ){
			var next = jQuery( ".ui-page-active" ).jqmData( "next" );
			if ( next && ( event.target === $( this )[ 0 ] ) ) {
				jQuery( "body" ).pagecontainer( "change", "#" + next, { transition: "flip" } );
			}
		}
		
	</script>
	
	<!-- Cookies -->
	<script>
		
		jQuery(document).ready(function(){     
			var $uservisit = jQuery.cookie('visit');
			if ( $uservisit != "true" ) {
				jQuery.cookie( 'visit', 'true', { expires: 365, path: '/' } );
				jQuery( "body" ).pagecontainer( "change", "#cookie_dialog" );
			}
			else {
			}
    	});	
		
		jQuery( ".deleteCookies ").click(function() {
			jQuery.removeCookie('visit', { path: '/' });
			jQuery.removeCookie('first', { path: '/' });
			jQuery.removeCookie('second', { path: '/' });
			jQuery.removeCookie('third', { path: '/' });
			jQuery.removeCookie('fourth', { path: '/' });
			jQuery.removeCookie('fifth', { path: '/' });
		});
		
		jQuery( ".search_form" ).submit(function( event ) {
			var $firstcookie = jQuery.cookie('first');
			var $formvalue = jQuery( "#search_box" ).val();
			if ( $formvalue != "" ) {
				if (typeof $firstcookie === 'undefined') {
					jQuery.cookie('first', $formvalue, { expires: 365, path: '/' } );
				}
				else {
					var $secondcookie = jQuery.cookie('second');
					if (typeof $secondcookie === 'undefined') {
						jQuery.cookie('second', $formvalue, { expires: 365, path: '/' } );
					}
					else {
						var $thirdcookie = jQuery.cookie('third');
						if (typeof $thirdcookie === 'undefined') {
							jQuery.cookie('third', $formvalue, { expires: 365, path: '/' } );
						}
						else {
							var $fourthcookie = jQuery.cookie('fourth');
							if (typeof $fourthcookie === 'undefined') {
								jQuery.cookie('fourth', $formvalue, { expires: 365, path: '/' } );
							}
							else {
								var $fifthcookie = jQuery.cookie('fifth');
								if (typeof $fifthcookie === 'undefined') {
									jQuery.cookie('fifth', $formvalue, { expires: 365, path: '/' } );
								}
								else {
									var $movesecond = jQuery.cookie('second');
									var $movethird = jQuery.cookie('third');
									var $movefourth = jQuery.cookie('fourth');
									var $movefifth = jQuery.cookie('fifth');
									jQuery.cookie('first', $movesecond, { expires: 365, path: '/' } );
									jQuery.cookie('second', $movethird, { expires: 365, path: '/' } );
									jQuery.cookie('third', $movefourth, { expires: 365, path: '/' } );
									jQuery.cookie('fourth', $movefifth, { expires: 365, path: '/' } );
									jQuery.cookie('fifth', $formvalue, { expires: 365, path: '/' } );
								}
							}
						}
					}
				}
			}
			else {
				alert ( "Search field empty." );
			}
		});
		
		jQuery( ".display_history" ).click(function() { 
			jQuery( ".firstcookie, .secondcookie, .thirdcookie, .fourthcookie, .fifthcookie" ).empty();
			jQuery( ".firstcookie" ).append ( jQuery.cookie('first') );
			jQuery( ".secondcookie" ).append ( jQuery.cookie('second') );
			jQuery( ".thirdcookie" ).append ( jQuery.cookie('third') );
			jQuery( ".fourthcookie" ).append ( jQuery.cookie('fourth') );
			jQuery( ".fifthcookie" ).append ( jQuery.cookie('fifth') );
		});
		
	</script>
</body>
</html>