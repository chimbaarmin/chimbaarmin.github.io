<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="still.css" />
</head>
<body>
    <form action="" method="post" id="gateway" class="step1">
    <h1>Helfen Sie mit!</h1>

    
    <input type="hidden" name="comment_post_ID" value="89427" id="comment_post_ID">
    <input type="hidden" name="comment_date" value="2014-11-29 15:06:27" id="comment_date">                       
    <input type="hidden" name="comment_meta[call_type]" value="">
    <input type="hidden" name="comment_meta[vote_type]" value="">
    <input type="hidden" name="comment_meta[text_formatted]">

    <div class="subtstep_1 substep">

                    <h6 style="text-align: center;">Bewerten Sie die kurz die Nummer. Daumen hoch oder runter?</h6>
            <div class="step1_vote_box">
                <button class="step1_vote_item step1_vote_up" value="vote_up"></button>
                <button class="step1_vote_item step1_vote_down" value="vote_down"></button>
                <div class="clear"></div>
            </div>

            <p style="text-align:center;" class="step_1vote_result"></p>
        

        <div class="step1_category_box_wrapper">
            <h6>Wie würden Sie diese Rufnummer kategorisieren?</h6>

                                        <div class="step1_category_box_item term_7">
                    <span class="step1_dd_tumbler">BETRUG<div class="arrow"></div></span><br>
                    <div class="step1_group_wrapper" style="display:none;">
                                                                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="gewinnspiele" value="329">
                                    <span>Gewinnspiele</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="scam" value="1933">
                                    <span>Scam</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="abo_kostenfalle" value="2838">
                                    <span>Abo &amp; Kostenfalle</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="datendiebstahl_phishing" value="2839">
                                    <span>Datendiebstahl / Phishing</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group sonstige">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="sonstige_betrug" value="2840">
                                    <span>Sonstige</span>
                                                                            <br>
                                        <input type="text" name="comment_meta[complain_type_others_text]" style="display:none; padding:1px;">
                                        
                                </div>    
                                                                        </div>
                </div>
                                            <div class="step1_category_box_item term_2832">
                    <span class="step1_dd_tumbler">WERBUNG<div class="arrow"></div></span><br>
                    <div class="step1_group_wrapper" style="display:none;">
                                                                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="zeitschriften" value="787">
                                    <span>Zeitschriften</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="versicherungen" value="1081">
                                    <span>Versicherungen</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="telefon_internet" value="2833">
                                    <span>Telefon &amp; Internet</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="strom_gas" value="2834">
                                    <span>Strom &amp; Gas</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="finanzprodukte" value="2835">
                                    <span>Finanzprodukte</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="spenden" value="2836">
                                    <span>Spenden</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group sonstige">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="sonstige" value="2837">
                                    <span>Sonstige</span>
                                                                            <br>
                                        <input type="text" name="comment_meta[complain_type_others_text]" style="display:none; padding:1px;">
                                        
                                </div>    
                                                                        </div>
                </div>
                                            <div class="step1_category_box_item term_2841">
                    <span class="step1_dd_tumbler">UMFRAGE<div class="arrow"></div></span><br>
                    <div class="step1_group_wrapper" style="display:none;">
                                                                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="marktforschung" value="259">
                                    <span>Marktforschung</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="meinungsumfragen" value="2842">
                                    <span>Meinungsumfragen</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group sonstige">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="sonstige_umfrage_2" value="2843">
                                    <span>Sonstige</span>
                                                                            <br>
                                        <input type="text" name="comment_meta[complain_type_others_text]" style="display:none; padding:1px;">
                                        
                                </div>    
                                                                        </div>
                </div>
                                    <div class="clear"></div>
                                            <div class="step1_category_box_item term_2845">
                    <span class="step1_dd_tumbler">SINNLOS<div class="arrow"></div></span><br>
                    <div class="step1_group_wrapper" style="display:none;">
                                                                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="scherzanruf" value="794">
                                    <span>Scherzanruf</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="telefonstalking" value="2846">
                                    <span>Telefonstalking</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group sonstige">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="sonstige_sinnlos" value="2847">
                                    <span>Sonstige</span>
                                                                            <br>
                                        <input type="text" name="comment_meta[complain_type_others_text]" style="display:none; padding:1px;">
                                        
                                </div>    
                                                                        </div>
                </div>
                                            <div class="step1_category_box_item term_2848">
                    <span class="step1_dd_tumbler">NÜTZLICH<div class="arrow"></div></span><br>
                    <div class="step1_group_wrapper" style="display:none;">
                                                                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="automatisierte_dienste" value="2849">
                                    <span>Automatisierte Dienste</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="termine_erinnerung" value="2850">
                                    <span>Termine &amp; Erinnerung</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="verifikationsanrufe" value="2851">
                                    <span>Verifikationsanrufe</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group sonstige">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="sonstige_nuetzlich" value="2852">
                                    <span>Sonstige</span>
                                                                            <br>
                                        <input type="text" name="comment_meta[complain_type_others_text]" style="display:none; padding:1px;">
                                        
                                </div>    
                                                                        </div>
                </div>
                                            <div class="step1_category_box_item term_2853">
                    <span class="step1_dd_tumbler">EIGENE RUFNUMMER<div class="arrow"></div></span><br>
                    <div class="step1_group_wrapper" style="display:none;">
                                                                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="firmeneintrag_eigene_rufnummer" value="2854">
                                    <span>Firmeneintrag</span>
                                        
                                </div>    
                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="privatanschluss" value="2855">
                                    <span>Privatanschluss</span>
                                        
                                </div>    
                                                                        </div>
                </div>
                                    <div class="clear"></div>
                                            <div class="step1_category_box_item term_2856">
                    <span class="step1_dd_tumbler">UNBEKANNT<div class="arrow"></div></span><br>
                    <div class="step1_group_wrapper" style="display:none;">
                                                                              
                                <div class="step1_radio_group ">
                                    <input type="radio" name="comment_meta[complain_type_id]" data-tag="unbekannte_telefonnummer" value="1023">
                                    <span>Unbekannte Telefonnummer</span>
                                        
                                </div>    
                                                                        </div>
                </div>
                                        <div class="clear"></div>
        </div><!-- .step1_category_box_wrapper -->

        <div class="step1_text_box">

            <div class="step1_call_type_box">
                <div class="step1_call_type_wrapper">
                    <button class="step1_call_type_item" data-tag="anruf_erhalten" value="receive_call">Anruf erhalten</button>
                    <button class="step1_call_type_item" data-tag="sms_erhalten" value="receive_sms">SMS erhalten</button>
                    <button class="step1_call_type_item" data-tag="fax_erhalten" value="receive_fax">Fax erhalten</button>
                    <button class="step1_call_type_item" data-tag="eigene_nummer" value="own_number">Eigene Nummer</button>
                    <button class="step1_call_type_item" onclick="javascript:window.location.href = 'http://www.Nummer-Index.de/?g=0201201852678&amp;step=step_2'; return false;">Kein Anruf erhalten &amp; Unbekannt</button>
                    <div class="clear"></div>
                </div> 
            </div><!-- .step1_call_type_box -->

            <h6>Beschreiben Sie kurz ihre Erfahrung.</h6>    
            <em>Sie können auch Hashtags nutzen, um die Nummer zu markieren, zum Beispiel #werbung.</em>

            <div class="jqueryHashtags"><div class="highlighter"></div><div class="typehead"><textarea id="step1_comment_text" name="comment_meta[comment_text]" class="theSelector" style="overflow: hidden; word-wrap: break-word; resize: none; height: 100px;"></textarea></div></div>
            <div class="step1_comment_text_overlay"></div>
            <div class="clear"></div>
        </div>



    </div><!-- .subtstep_1 -->

    <div class="gateway_sbm_btn_wrapper">
        <input type="submit" value="Weiter" class="gateway_submit_button" disabled="">
    </div>

    <script>
        jQuery(document).ready(function($){
            
            function IsEmail(email) {
                var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                return regex.test(email);
            }
            
            function checkSubmitActionAvailability(){
                var comment_meta_call_type = $('input[name="comment_meta[call_type]"]').val();
                var comment_meta_vote_type = $('input[name="comment_meta[vote_type]"]').val();
                var comment_meta_comment_text = $('input[name="comment_meta[text_formatted]"]').val();

                if(comment_meta_call_type.length > 0 && comment_meta_vote_type.length > 0 && comment_meta_comment_text.length > 0 ){

                    // Check Email
                    /* var comment_meta_subscr_email = $('input[name="comment_meta[subscr_email]"]');
                    if(comment_meta_subscr_email.length > 0){
                        var sSubscrEmail = comment_meta_subscr_email.val();
                        if(sSubscrEmail.length > 0 && !IsEmail(sSubscrEmail)){
                            comment_meta_subscr_email.css('border-color','#f00');
                            $('.gateway_submit_button').attr('disabled', 'disabled');
                            return false;    
                        } else {
                            comment_meta_subscr_email.css('border-color','#DDD');
                        }
                    }*/
                    $('.gateway_submit_button').removeAttr('disabled');
                    $('.subtstep_2').slideDown();

                } else {
                    $('.gateway_submit_button').attr('disabled', 'disabled');
                }
            }
            
 
            /* BOF CALL TYPE  */
            $('.step1_call_type_item').click(function(e){
                e.preventDefault();
                $(this).toggleClass('active').siblings().removeClass('active');
                $('input[name="comment_meta[call_type]"]').val($(this).val()); 
                $(this).addClass('active');
                
                var sTagSelected = $(this).data('tag');
                $('#step1_comment_text').val(function( index, value ) {
                    return value + " #"+sTagSelected;
                }).trigger('change');
                
                if($(this).val() == 'own_number'){
                    $('.step1_category_box_item:not(.term_2853)').hide();
                } else{
                    $('.step1_category_box_item').show();
                }
                checkSubmitActionAvailability();
                return false;
            });
            
            /* EOF CALL TYPE  */
            
            /* BOF VOTE TYPE */
            $('.step1_vote_item').click(function(e){
                e.preventDefault();
                $(this).toggleClass('active').siblings().removeClass('active');
                $('input[name="comment_meta[vote_type]"]').val($(this).val()); 
                $(this).addClass('active');
                
                switch($(this).val()){
                    case 'vote_up':
                        $('.step_1vote_result').html("Sie haben den Anrufer mit der Nummer 0201201852678 positiv bewertet.");
                        break;
                    case 'vote_down':
                        $('.step_1vote_result').html("Sie haben den Anrufer mit der Nummer 0201201852678 negativ bewertet.");
                        break;
                    }
                
                                                            
                    checkSubmitActionAvailability();
                    return false;
                });
                /* EOF VOTE TYPE */
            
                /* BOF CATEGORIES */
                $('.step1_dd_tumbler').on('click',function(){
                    $(this).find('.arrow').toggleClass("opened");
                    $(this).parent('.step1_category_box_item').find('.step1_group_wrapper').slideToggle();
                });

                $('input[name="comment_meta[complain_type_id]"]').change(function(){
                    
                    var sTagSelected = $(this).data('tag');
                    $('#step1_comment_text').val(function( index, value ) {
                        return value + " #"+sTagSelected;
                    }).trigger('change');
                
                    var parentGroupDOM = $(this).parent();
                    if(parentGroupDOM.hasClass('sonstige')){
                        $('input[name="comment_meta[complain_type_others_text]"]').val('').hide();
                        parentGroupDOM.find('input[name="comment_meta[complain_type_others_text]"]').show();
                    } else {
                        $('input[name="comment_meta[complain_type_others_text]"]').val('').hide();
                    }
                });
                /* EOF CATEGORIES */
        
                /* BOF TAGS */
                var popularTags = ["unbekannten", "nummer kenn ich nicht", "keine erfahrung", "Gewinnspiele", "vermarkter hotline", "unseriöses", "Betrugsversuch", "datendiebstahl", "unbekanter anruf", "Gewinnspielen", "stalking", "unbekannter", "hotline", "phishing", "lästig", "unseriösen", "abofalle", "meinungsforschung", "inkasso", "unseriöse", "Spam", "abo", "unbekannte", "nervige", "test", "abzocke", "keinen", "spam", "kostenfalle", "spenden", "termine_erinnerung", "fax_erhalten", "seriöse", "verifikationsanrufe", "betrug", "automatisierte_dienste", "firmeneintrag_eigene_rufnummer", "Betrug", "telefonterror", "Telefonterror", "gefährlich", "gewinnspiel", "nervt", "Gewinnspiel", "nervig", "unseriös", "sonstige_nuetzlich", "eigene_nummer", "keiner", "Werbung", "scherzanruf", "finanzprodukte", "sonstige_umfrage_2", "meinungsumfragen", "keine", "marktforschung", "zeitschriften", "seriös", "privatanschluss", "scam", "versicherungen", "strom_gas", "belästigung", "werbung", "sms_erhalten", "telefon_internet", "sonstige_sinnlos", "sonstige", "sonstige_betrug", "datendiebstahl_phishing", "unbekannt", "telefonstalking", "gewinnspiele", "abo_kostenfalle", "unbekannte_telefonnummer", "anruf_erhalten"];
            
                $('#step1_comment_text').wrap('<div class="jqueryHashtags"><div class="highlighter"></div></div>').unwrap().before('<div class="highlighter"></div>').wrap('<div class="typehead"></div></div>');
                $('#step1_comment_text').addClass("theSelector");
                $('#step1_comment_text').autosize({append: "\n"});
                $('#step1_comment_text').parent().prev().on('click', function() {
                    $('#step1_comment_text').parent().find(".theSelector").focus();
                });
                
                $('#step1_comment_text').on("keyup change", function() {
                
                    var str = strOriginal = $(this).val();
                    //str = str.toLowerCase();
        
                    //str = str.replace(/\n/g, '<br>');
                    if(!str.match(/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?#([a-zA-Z0-9]+)/g)) {

                        // Check for #tags
                        if(!str.match(/#([a-zA-Z0-9]+)#/g)) {
                            str = str.replace(/#([a-zA-Z0-9äöüßÄÖÜ_]+)/g,'<span class="hashtag">#$1</span>');
                        } else {
                            str = str.replace(/#([a-zA-Z0-9äöüßÄÖÜ]+)#([a-zA-Z0-9äöüßÄÖÜ_]+)/g,'<span class="hashtag">#$1</span>'); 
                        }
                        // Check for words
                    
                        //var aStrLowerCase = str.toLowerCase();
                        var aStrLowerCase = str
                        //var aStrOriginalLowerCase = strOriginal.toLowerCase();
                        var aStrOriginalLowerCase = strOriginal;
                        
                        var aStr = aStrLowerCase.split(' ');
                        var aStrOriginal = aStrOriginalLowerCase.split(' ');
                    
                    
                        $.each(aStr,function(key, value){
                            if(value.length > 0){
                                if($.inArray(value, popularTags) > -1){
                                    var regVar = new RegExp("(?:^|\\s)("+value+")","g");
                                    str = str.replace( regVar ,' <span class="hashtag">#$1</span>');  
                                    strOriginal = strOriginal.replace( regVar ,' #$1');  
                                }
                            }
                        });
                    } 

                    $(this).parent().parent().find(".highlighter").html(str);
                    $(this).val(strOriginal)
                    $('input[name="comment_meta[text_formatted]"]').val(str);
                    checkSubmitActionAvailability();
                });
                
                $(".highlighter").on('click', function() {
                    $('#step1_comment_text').focus();
                });
            
                /* EOF TAGS */
            });
            
            $.fn.selectRange = function(start, end) {
                if(!end) end = start; 
                return this.each(function() {
                    if (this.setSelectionRange) {
                        this.focus();
                        this.setSelectionRange(start, end);
                    } else if (this.createTextRange) {
                        var range = this.createTextRange();
                        range.collapse(true);
                        range.moveEnd('character', end);
                        range.moveStart('character', start);
                        range.select();
                    }
                });
            };
    </script>

</form>
</body>
</html>